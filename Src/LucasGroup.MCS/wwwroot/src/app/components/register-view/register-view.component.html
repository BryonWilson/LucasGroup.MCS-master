<section class="parent flex justify-center">

  <div>

    <mat-card class="title-center">
      <mat-card-title>
        <h2>Register</h2>
      </mat-card-title>
      <mat-card-content *ngIf="!isRequesting" class="u-full-width">
        <form [formGroup]="registerForm" (ngSubmit)="register(registerForm)">
          <div>
            <mat-form-field [floatLabel]="true">
              <input matInput id="username" formControlName="email" type="email" />
              <mat-label for="username">User Name</mat-label>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field [floatLabel]="true">
              <input matInput id="password" formControlName="password" type="password" />
              <mat-label for="password">Password</mat-label>
            </mat-form-field>
            <div class="password-text">
              * Password must be at least 8 characters, contain a capital letter and a special character
            </div>
          </div>
          <div>
            <mat-form-field>
              <mat-select placeholder="Select Role" formControlName="roleName">
                <mat-option *ngFor="let r of roles" [value]="r.roleId">
                  {{ r.roleName }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field [floatLabel]="true">
              <input matInput id="firstName" formControlName="firstName" />
              <mat-label for="firstName">First Name</mat-label>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field [floatLabel]="true">
              <input matInput id="lastName" formControlName="lastName" />
              <mat-label for="lastName">Last Name</mat-label>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field [floatLabel]="true">
              <input matInput id="bullhornUsername" formControlName="bullhornUsername" />
              <mat-label for="bullhornUsername">Bullhorn User Name</mat-label>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field [floatLabel]="true">
              <input matInput id="bullhornUserId" formControlName="bullhornUserId" />
              <mat-label for="bullhornUserId">Bullhorn User ID</mat-label>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field [floatLabel]="true">
              <mat-select id="branchId" formControlName="branchId">
                <mat-option *ngFor="let branch of branchArray | async" [value]="branch.id">{{branch.name}} - {{branch.number}}</mat-option>
              </mat-select>
              <mat-label for="branchId">Branch</mat-label>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field [floatLabel]="true">
              <input matInput id="location" formControlName="location" />
              <mat-label for="location">Location</mat-label>
            </mat-form-field>
          </div>
          <div *ngIf="errors">
            {{errors}}
          </div>
          <mat-card-actions>
            <button mat-button type="submit">Register</button>
            <a mat-button routerLink="/login" routerLinkActive="active">Cancel</a>
          </mat-card-actions>
        </form>
      </mat-card-content>
      <div [hidden]="!isRequesting" class="u-full-width center">
        <mat-spinner></mat-spinner>
        <div>One moment please...</div>
      </div>
    </mat-card>
  </div>
</section>
